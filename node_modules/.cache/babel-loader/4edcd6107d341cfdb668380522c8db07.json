{"ast":null,"code":"var _jsxFileName = \"/Users/strawberry/Desktop/week6-ReactAPP/src/Components/Tasks.js\",\n    _s = $RefreshSig$();\n\nimport '../App.css';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Task from './Task';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet currentListID = 0;\nlet mySetTasks;\n\nconst Tasks = props => {\n  _s();\n\n  const [tasks, setTasks] = useState([]);\n  const {\n    listsid\n  } = useParams();\n  currentListID = listsid;\n\n  mySetTasks = newTask => setTasks(newTask);\n\n  useEffect(() => axios.get(listsid === undefined ? 'http://localhost:8080/colection/today' : `http://localhost:8080/tasks/list/${listsid}`).catch(error => console.log(error)).then(response => setTasks(response.data)).catch(error => console.log(error)), [listsid]);\n\n  const changeDone = (listsid, taskid, done) => {\n    axios.patch('http://localhost:8080/tasks/list/' + listsid + '/task/' + taskid, {\n      done: done\n    }) //post putch and put might return updatetd object\n    .then(() => setTasks(tasks.map(item => {\n      item.taskid === taskid ? item.done = !item.done : item.done = item.done;\n      return item;\n    }))).catch(error => console.log(error));\n  };\n\n  const deleteTask = (listsid, tasksid) => {\n    for (let i = 0; i < tasks.length; i++) if (tasks[i].taskid === tasksid) tasks.splice(i, 1);\n\n    axios.delete(`http://localhost:8080/tasks/list/` + listsid, {\n      'taskID': tasksid\n    }).then(() => setTasks(tasks.filter(task => task.taskid !== tasksid))).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: tasks.map(item => /*#__PURE__*/_jsxDEV(Task, {\n      task: item,\n      changeDone: changeDone,\n      deleteTask: deleteTask,\n      tasks: tasks\n    }, item.taskid, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n};\n\n_s(Tasks, \"pmgNfxsHon7Tyh3mX4Z2YeQlm24=\", false, function () {\n  return [useParams];\n});\n\n_c = Tasks;\nconst newTaskTitle = document.getElementById('newTaskTitle');\nconst newTaskDescription = document.getElementById('newTaskDescription');\nconst newTaskDeadline = document.getElementById('newTaskDeadline');\nconst addButton = document.getElementById('addButton');\n\nconst addNewTask = () => {\n  let newTask = {\n    \"listID\": currentListID,\n    \"title\": newTaskTitle.value\n  };\n  if (newTaskDescription.value !== '') newTask['description'] = newTaskDescription.value;\n  if (newTaskDeadline.value !== '') newTask['dueDate'] = newTaskDeadline.value;\n  axios //* http POST localhost:8080/tasks/ listID=1 title=\"NEW task in list 1\" dueDate=\"2022-02-05\"\n  .post(`http://localhost:8080/tasks/`, newTask).then(() => {\n    clearForm();\n    mySetTasks(newTask);\n  }).catch(error => console.log(error));\n};\n\nfunction clearForm() {\n  newTaskTitle.value = '';\n  newTaskDescription.value = '';\n  newTaskDeadline.value = '';\n  addButton.disabled = true;\n}\n\nexport { Tasks, addNewTask };\n\nvar _c;\n\n$RefreshReg$(_c, \"Tasks\");","map":{"version":3,"sources":["/Users/strawberry/Desktop/week6-ReactAPP/src/Components/Tasks.js"],"names":["React","useEffect","useState","axios","Task","useParams","currentListID","mySetTasks","Tasks","props","tasks","setTasks","listsid","newTask","get","undefined","catch","error","console","log","then","response","data","changeDone","taskid","done","patch","map","item","deleteTask","tasksid","i","length","splice","delete","filter","task","newTaskTitle","document","getElementById","newTaskDescription","newTaskDeadline","addButton","addNewTask","value","post","clearForm","disabled"],"mappings":"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","sourcesContent":["import '../App.css';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Task from './Task';\nimport { useParams } from 'react-router-dom';\n\nlet currentListID = 0;\nlet mySetTasks;\nconst Tasks = (props) => {\n  const [tasks, setTasks] = useState([]);\n  const { listsid } = useParams();\n\n  currentListID = listsid;\n  mySetTasks = newTask => setTasks(newTask);\n\n  useEffect(() => axios\n    .get(listsid === undefined ? 'http://localhost:8080/colection/today' : `http://localhost:8080/tasks/list/${listsid}`)\n    .catch(error => console.log(error))\n    .then(response => setTasks(response.data))\n    .catch(error => console.log(error)), [listsid]\n  );\n\n  const changeDone = (listsid, taskid, done) => {\n    axios\n      .patch('http://localhost:8080/tasks/list/' + listsid + '/task/' + taskid, { done: done }) //post putch and put might return updatetd object\n      .then(() =>\n        setTasks(\n          tasks.map(item => {\n            item.taskid === taskid ? item.done = !item.done : item.done = item.done;\n            return item;\n          })))\n      .catch((error) => console.log(error))\n  }\n\n  const deleteTask = (listsid, tasksid) => {\n    for (let i = 0; i < tasks.length; i++) \n      if (tasks[i].taskid === tasksid)\n        tasks.splice(i, 1);\n\n    axios\n      .delete(`http://localhost:8080/tasks/list/` + listsid, { 'taskID': tasksid })\n      .then(() => setTasks(tasks.filter(task => task.taskid !== tasksid)))\n      .catch(error => console.log(error))\n  }\n\n  return (\n    <>{\n      tasks.map(item =>\n        <Task\n          key={item.taskid}\n          task={item}\n          changeDone={changeDone}\n          deleteTask={deleteTask}\n          tasks={tasks}\n        />\n      )\n    }</>\n  );\n}\n\nconst newTaskTitle = document.getElementById('newTaskTitle');\nconst newTaskDescription = document.getElementById('newTaskDescription');\nconst newTaskDeadline = document.getElementById('newTaskDeadline');\nconst addButton = document.getElementById('addButton');\nconst addNewTask = () => {\n  let newTask = { \"listID\": currentListID, \"title\": newTaskTitle.value };\n  if (newTaskDescription.value !== '')\n    newTask['description'] = newTaskDescription.value;\n  if (newTaskDeadline.value !== '')\n    newTask['dueDate'] = newTaskDeadline.value;\n\n  \n  axios     //* http POST localhost:8080/tasks/ listID=1 title=\"NEW task in list 1\" dueDate=\"2022-02-05\"\n    .post(`http://localhost:8080/tasks/`, newTask)\n    .then(() => {\n      clearForm();\n      mySetTasks(newTask);\n    })\n    .catch(error => console.log(error))\n}\n\nfunction clearForm() {\n  newTaskTitle.value = '';\n  newTaskDescription.value = '';\n  newTaskDeadline.value = '';\n  addButton.disabled = true;\n}\n\nexport { Tasks, addNewTask };\n"]},"metadata":{},"sourceType":"module"}